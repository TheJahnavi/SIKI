<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Scan It Know It</title>
  <link rel="stylesheet" href="styles/main.css" />
  <!-- Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!-- Roboto Font -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Page 1: Home Screen -->
  <div id="page-1" class="page active">
    <!-- Header Overlay -->
    <div class="header-overlay">
      <h1 class="logo">Scan It Know It</h1>
      <button id="theme-toggle" class="icon-button">
        <span class="material-icons">light_mode</span>
      </button>
      <button id="camera-switch" class="icon-button">
        <span class="material-icons">flip_camera_ios</span>
      </button>
    </div>

    <!-- Camera Viewport -->
    <div class="camera-viewport">
      <video id="camera-stream" autoplay playsinline></video>
      <canvas id="capture-canvas" style="display:none;"></canvas>
      <div class="scanning-indicator"></div>
      <div class="camera-placeholder">
        <span class="material-icons">photo_camera</span>
        <p>Camera Access Required</p>
        <p class="camera-instruction">Point your camera at a product. Allow camera access when prompted.</p>
      </div>
    </div>

    <!-- Image Preview Bar (Conditional) -->
    <div id="image-preview-bar" class="image-preview-bar">
      <div class="preview-container"></div>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button id="upload-button" class="icon-button fab-style">
        <span class="material-icons">photo_library</span>
      </button>
      <button id="camera-button" class="large-fab">
        <span class="material-icons">photo_camera</span>
      </button>
      <button id="analyze-button" class="extended-fab disabled">
        <span>ANALYZE</span>
        <span class="material-icons">send</span>
      </button>
    </div>

    <!-- Hidden file input -->
    <input type="file" id="upload-input" accept="image/*" style="display:none;" />
  </div>

  <!-- Page 2: Product Result Screen -->
  <div id="page-2" class="page">
    <!-- Top App Bar -->
    <div class="top-app-bar">
      <button id="back-button" class="icon-button">
        <span class="material-icons">arrow_back</span>
      </button>
      <h2 id="product-name" class="app-bar-title">Product Name</h2>
    </div>

    <!-- Score Visualization -->
    <div class="score-visualization">
      <h1 id="product-name-result" class="product-name">Product Name</h1>
      <p id="assessment-text" class="assessment-text">Overall Health Assessment: Loading...</p>
    </div>

    <!-- Alternatives CTA -->
    <button class="alternatives-cta">
      <span>See Healthier Alternatives</span>
    </button>

    <!-- Detail Sections -->
    <div class="detail-sections">
      <!-- Ingredients & Risk Analysis -->
      <div class="expansion-panel">
        <div class="panel-header">
          <h3 class="panel-title">Ingredients & Risk Analysis</h3>
          <span class="source-badge">AI Analysis</span>
          <span class="material-icons expand-icon">expand_more</span>
        </div>
        <div class="panel-content">
          <ul class="ingredients-list"></ul>
        </div>
      </div>

      <!-- Nutritional Breakdown -->
      <div class="expansion-panel">
        <div class="panel-header">
          <h3 class="panel-title">Nutritional Breakdown</h3>
          <span class="source-badge">Web Scrape</span>
          <span class="material-icons expand-icon">expand_more</span>
        </div>
        <div class="panel-content">
          <!-- Nutrition items will be added here dynamically -->
        </div>
      </div>

      <!-- Reddit Reviews -->
      <div class="expansion-panel">
        <div class="panel-header">
          <h3 class="panel-title">Reddit Reviews</h3>
          <span class="source-badge">Web Scrape</span>
          <span class="material-icons expand-icon">expand_more</span>
        </div>
        <div class="panel-content">
          <h4 class="pros-heading">Pros</h4>
          <ul class="pros-list">
            <li>High quality ingredients</li>
            <li>Good value for money</li>
          </ul>
          <h4 class="cons-heading">Cons</h4>
          <ul class="cons-list">
            <li>Contains artificial preservatives</li>
            <li>High in sugar</li>
          </ul>
        </div>
      </div>

      <!-- Q&A (Ask the AI) -->
      <div class="expansion-panel">
        <div class="panel-header">
          <h3 class="panel-title">Q&A (Ask the AI)</h3>
          <span class="source-badge">AI Analysis</span>
          <span class="material-icons expand-icon">expand_more</span>
        </div>
        <div class="panel-content">
          <div class="chat-bubble">
            <p>Hello! I'm your product analysis assistant. Ask me anything about this product!</p>
          </div>
          <!-- Chat bubbles will be added here dynamically -->
        </div>
      </div>
    </div>

    <!-- Q&A Input Area (Fixed to bottom when Q&A section is open) -->
    <div class="qa-input-area">
      <div class="input-container">
        <input type="text" class="outlined-text-field" placeholder="Ask about this product..." />
        <button class="icon-button send-button">
          <span class="material-icons">send</span>
        </button>
      </div>
    </div>
  </div>

  <script src="scripts/main.js"></script>
</body>
</html>